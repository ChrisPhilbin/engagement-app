<div class="bg-grey-lighter min-h-screen flex flex-col my-auto">
  <div
    class="container max-w-sm mx-auto flex-1 flex flex-col items-center justify-center px-2"
  >
    <div class="bg-white px-6 py-8 rounded shadow-md text-black w-full">
      <h1 class="mb-8 text-3xl text-center">
        {{ isLoginMode ? "Log in" : "Sign up" }}
      </h1>
      <p *ngIf="sessionExpired" class="text-center text-red-600 font-bold mb-2">
        Your session has expired.<br />
        Please login to continue.
      </p>
      <div *ngIf="showDemoGreeting" class="mb-4">
        <p-messages severity="info">
          <ng-template pTemplate>
            <p innerHTML="{{ demoGreetingMessage }}"></p>
          </ng-template>
        </p-messages>
      </div>
      <form
        #authForm="ngForm"
        (ngSubmit)="onSubmit(authForm)"
        *ngIf="!isLoading; else authLoading"
      >
        <input
          ngModel
          *ngIf="!isLoginMode"
          [required]="!isLoginMode"
          type="text"
          class="block border border-grey-light w-full p-3 rounded mb-4"
          name="username"
          placeholder="Full Name"
        />

        <input
          ngModel
          required
          email
          type="text"
          class="block border border-grey-light w-full p-3 rounded mb-4"
          name="email"
          placeholder="Email"
        />

        <input
          ngModel
          type="password"
          class="block border border-grey-light w-full p-3 rounded mb-4"
          name="password"
          placeholder="Password"
          autocomplete="on"
        />
        <input
          ngModel
          *ngIf="!isLoginMode"
          [required]="!isLoginMode"
          type="password"
          class="block border border-grey-light w-full p-3 rounded mb-4"
          name="confirmPassword"
          placeholder="Confirm Password"
        />

        <button
          type="submit"
          class="w-full text-center py-3 rounded bg-emerald-700 text-white hover:bg-emerald-800 focus:outline-none my-1"
        >
          {{ isLoginMode ? "Log in" : "Create Account" }}
        </button>
      </form>
      <ng-template #authLoading>
        <app-loading></app-loading>
      </ng-template>

      <div class="text-center text-sm text-red-600 mt-4" *ngIf="error">
        {{ error }}
      </div>
    </div>

    <div *ngIf="isLoginMode" class="text-grey-dark mt-6">
      Don't have an account yet?
      <a
        class="hover:no-underline underline text-blue cursor-pointer font-bold"
        (click)="onSwitchMode()"
      >
        Sign up</a
      >.
    </div>

    <div *ngIf="!isLoginMode" class="text-grey-dark mt-6">
      Already have an account?
      <a
        class="hover:no-underline underline text-blue cursor-pointer font-bold"
        (click)="onSwitchMode()"
      >
        Log in</a
      >.
    </div>
  </div>
</div>
